<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logic-i - Elite High Level System Design Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 0;
            text-align: center;
            margin-bottom: 2rem;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        h1 {
            font-size: 3.5rem;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }
        
        .subtitle {
            font-size: 1.4rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .legend {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            border-left: 5px solid #2196f3;
        }
        
        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        
        .section {
            background: white;
            padding: 2.5rem;
            margin-bottom: 2rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.1);
        }
        
        h2 {
            color: #667eea;
            margin-bottom: 2rem;
            font-size: 2.2rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 0.5rem;
            position: relative;
        }
        
        h2::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 50px;
            height: 3px;
            background: #764ba2;
        }
        
        h3 {
            color: #444;
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-size: 1.6rem;
        }
        
        h4 {
            color: #555;
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
            font-size: 1.3rem;
        }
        
        .toc {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            border: 2px solid #dee2e6;
        }
        
        .toc h3 {
            margin-top: 0;
            color: #667eea;
            text-align: center;
            font-size: 1.8rem;
        }
        
        .toc ol {
            list-style: decimal;
            padding-left: 2rem;
            columns: 2;
            column-gap: 3rem;
        }
        
        .toc li {
            margin: 0.8rem 0;
            font-size: 1.1rem;
            break-inside: avoid;
        }
        
        .toc a {
            color: #333;
            text-decoration: none;
            transition: all 0.3s;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }
        
        .toc a:hover {
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .visual-diagram {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem;
            border-radius: 15px;
            margin: 2rem 0;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .tier-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 2rem 0;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .tier-box {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 2rem;
            min-width: 200px;
            flex: 1;
            text-align: center;
        }
        
        .tier-arrow {
            font-size: 2rem;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .diagram {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 12px;
            margin: 2rem 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            white-space: pre;
            line-height: 1.4;
            border: 2px solid #dee2e6;
            font-size: 14px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .architecture-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .architecture-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 2rem;
            border-radius: 12px;
            border-left: 5px solid #667eea;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
        }
        
        .architecture-card:hover {
            transform: translateY(-5px);
        }
        
        .architecture-card h4 {
            color: #667eea;
            margin-bottom: 1rem;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .card-icon {
            width: 24px;
            height: 24px;
            background: #667eea;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }
        
        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }
        
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }
        
        .flow-step {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 10px;
            border-left: 5px solid #2196f3;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        .security-layer {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 10px;
            border-left: 5px solid #ff9800;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        .journey-flow {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 10px;
            border-left: 5px solid #9c27b0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        .api-route {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
            font-family: 'Courier New', monospace;
        }
        
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin: 1rem 0;
        }
        
        .tech-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 25px;
            font-size: 0.9rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease;
        }
        
        .tech-badge:hover {
            transform: scale(1.05);
        }
        
        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .status-implemented {
            background: #c8e6c9;
            color: #2e7d32;
        }
        
        .status-progress {
            background: #fff3cd;
            color: #f57c00;
        }
        
        .status-planned {
            background: #e1f5fe;
            color: #0277bd;
        }
        
        .scalability-note {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 5px solid #e91e63;
            margin: 2rem 0;
        }
        
        ul {
            padding-left: 2rem;
            margin: 1rem 0;
        }
        
        li {
            margin: 0.5rem 0;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
            padding: 1.5rem;
            border-radius: 10px;
            border: 2px solid #ffa000;
            margin: 1.5rem 0;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .section {
                padding: 1.5rem;
            }
            
            .diagram {
                font-size: 12px;
                padding: 1rem;
            }
            
            .toc ol {
                columns: 1;
            }
            
            .tier-container {
                flex-direction: column;
            }
            
            .tier-arrow {
                transform: rotate(90deg);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ Logic-i Platform</h1>
            <p class="subtitle">Elite High Level System Design Documentation</p>
        </header>

        <div class="legend">
            <h3>ğŸ¨ Documentation Legend & Color Coding</h3>
            <div class="legend-grid">
                <div class="legend-item">
                    <div class="legend-color" style="background: #667eea;"></div>
                    <span>Frontend Layer</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #764ba2;"></div>
                    <span>Backend Layer</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #2196f3;"></div>
                    <span>Database Layer</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #4caf50;"></div>
                    <span>External APIs</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ff9800;"></div>
                    <span>Security Layer</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #9c27b0;"></div>
                    <span>User Flows</span>
                </div>
            </div>
        </div>

        <div class="section toc">
            <h3>ğŸ“‹ Table of Contents</h3>
            <ol>
                <li><a href="#visual-architecture">Visual 3-Tier Architecture Diagram</a></li>
                <li><a href="#detailed-architecture">Detailed System Architecture</a></li>
                <li><a href="#auth-flows">Authentication Flow Breakdowns</a></li>
                <li><a href="#booking-inquiry">Booking vs Inquiry Flows</a></li>
                <li><a href="#admin-actions">Admin Role Actions & Permissions</a></li>
                <li><a href="#component-tree">React Component Tree Structure</a></li>
                <li><a href="#service-layer">Service Layer & Modular Logic</a></li>
                <li><a href="#security-hld">Security High Level Design</a></li>
                <li><a href="#deployment-flow">Deployment Infrastructure Flow</a></li>
                <li><a href="#data-flow-examples">Real Data Flow Examples</a></li>
                <li><a href="#api-routes">API Route Mappings</a></li>
                <li><a href="#database-design">Database Design & ERD</a></li>
                <li><a href="#scalability-plan">Scalability Roadmap</a></li>
            </ol>
        </div>

        <div class="section" id="visual-architecture">
            <h2>ğŸ—ï¸ Visual 3-Tier Architecture Diagram</h2>
            
            <div class="visual-diagram">
                <h3>Logic-i Platform Architecture Overview</h3>
                <div class="tier-container">
                    <div class="tier-box">
                        <h4>ğŸ¨ FRONTEND TIER</h4>
                        <p><strong>React 18.3.1 + Vite</strong></p>
                        <hr style="margin: 1rem 0; border: 1px solid rgba(255,255,255,0.3);">
                        <div style="text-align: left; font-size: 0.9rem;">
                            â€¢ Single Page Application<br>
                            â€¢ Component-based UI<br>
                            â€¢ Responsive Design<br>
                            â€¢ State Management<br>
                            â€¢ Route Protection
                        </div>
                    </div>
                    
                    <div class="tier-arrow">â†’</div>
                    
                    <div class="tier-box">
                        <h4>âš™ï¸ BACKEND TIER</h4>
                        <p><strong>Node.js + Express</strong></p>
                        <hr style="margin: 1rem 0; border: 1px solid rgba(255,255,255,0.3);">
                        <div style="text-align: left; font-size: 0.9rem;">
                            â€¢ RESTful API Design<br>
                            â€¢ Service Architecture<br>
                            â€¢ JWT Authentication<br>
                            â€¢ Business Logic<br>
                            â€¢ Middleware Stack
                        </div>
                    </div>
                    
                    <div class="tier-arrow">â†’</div>
                    
                    <div class="tier-box">
                        <h4>ğŸ’¾ DATA TIER</h4>
                        <p><strong>MySQL + External APIs</strong></p>
                        <hr style="margin: 1rem 0; border: 1px solid rgba(255,255,255,0.3);">
                        <div style="text-align: left; font-size: 0.9rem;">
                            â€¢ Relational Database<br>
                            â€¢ Razorpay Payment<br>
                            â€¢ AWS SNS (OTP)<br>
                            â€¢ Google OAuth<br>
                            â€¢ File Storage
                        </div>
                    </div>
                </div>
            </div>

            <div class="highlight-box">
                <h4>ğŸ”— Inter-Tier Communication</h4>
                <p><strong>Frontend â†” Backend:</strong> HTTPS REST API calls with JWT authentication</p>
                <p><strong>Backend â†” Database:</strong> Sequelize ORM with connection pooling</p>
                <p><strong>Backend â†” External APIs:</strong> Secure API integrations with error handling</p>
            </div>
        </div>

        <div class="section" id="detailed-architecture">
            <h2>ğŸ›ï¸ Detailed System Architecture</h2>
            
            <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            ğŸŒ EXTERNAL SERVICES LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ğŸ’³ Razorpay API   â”‚   ğŸ“± AWS SNS        â”‚   ğŸ” Google OAuth   â”‚   ğŸ“§ Email SMTP â”‚
â”‚  (Payment Gateway)  â”‚ (SMS/OTP Service)   â”‚  (Authentication)   â”‚  (Notifications)â”‚
â”‚  â€¢ Order Creation   â”‚ â€¢ SMS Delivery      â”‚ â€¢ User Info API     â”‚ â€¢ Booking Alertsâ”‚
â”‚  â€¢ Payment Verify   â”‚ â€¢ OTP Generation    â”‚ â€¢ Token Exchange    â”‚ â€¢ System Alerts â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â–²
                                            â”‚ HTTPS/REST
                                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ğŸ¨ PRESENTATION LAYER (Frontend)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     React 18.3.1 + Vite + Tailwind CSS + TypeScript               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ğŸ  Public Pages   â”‚  ğŸ” Auth Components â”‚  ğŸ“Š Dashboard Views â”‚  ğŸ‘‘ Admin Panel â”‚
â”‚  â€¢ Landing/Hero     â”‚  â€¢ Login/Register   â”‚  â€¢ User Dashboard   â”‚  â€¢ Approvals     â”‚
â”‚  â€¢ Warehouse Search â”‚  â€¢ OTP Verification â”‚  â€¢ My Warehouses    â”‚  â€¢ Analytics     â”‚
â”‚  â€¢ Property Details â”‚  â€¢ Google OAuth Btn â”‚  â€¢ Booking History  â”‚  â€¢ User Mgmt     â”‚
â”‚  â€¢ About/Contact    â”‚  â€¢ Password Reset   â”‚  â€¢ Payment Records  â”‚  â€¢ System Config â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â–²
                                            â”‚ HTTPS/JSON API
                                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        âš™ï¸ APPLICATION LAYER (Backend)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        Node.js + Express.js + Service Architecture                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ğŸ›£ï¸ API Routes     â”‚   ğŸ”’ Middleware     â”‚   ğŸ”§ Service Layer  â”‚   ğŸ® Controllers â”‚
â”‚  â€¢ /api/auth/*      â”‚  â€¢ JWT Validation   â”‚  â€¢ AuthService      â”‚  â€¢ AuthControllerâ”‚
â”‚  â€¢ /api/warehouse/* â”‚  â€¢ CORS Policy      â”‚  â€¢ PaymentService   â”‚  â€¢ WarehouseCtrl â”‚
â”‚  â€¢ /api/booking/*   â”‚  â€¢ Rate Limiting    â”‚  â€¢ BookingService   â”‚  â€¢ BookingCtrl   â”‚
â”‚  â€¢ /api/payment/*   â”‚  â€¢ Input Validation â”‚  â€¢ NotifyService    â”‚  â€¢ PaymentCtrl   â”‚
â”‚  â€¢ /api/admin/*     â”‚  â€¢ Error Handling   â”‚  â€¢ FileService      â”‚  â€¢ AdminCtrl     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â–²
                                            â”‚ SQL/Sequelize ORM
                                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ğŸ’¾ DATA PERSISTENCE LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         MySQL 8.0 + Sequelize ORM + File Storage                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ğŸ‘¥ User Data      â”‚  ğŸ¢ Warehouse Data  â”‚  ğŸ’° Transaction Dataâ”‚  ğŸ“ File Storage â”‚
â”‚  â€¢ users            â”‚  â€¢ warehouses       â”‚  â€¢ bookings         â”‚  â€¢ Images        â”‚
â”‚  â€¢ user_sessions    â”‚  â€¢ warehouse_images â”‚  â€¢ payments         â”‚  â€¢ Documents     â”‚
â”‚  â€¢ user_profiles    â”‚  â€¢ amenities        â”‚  â€¢ inquiries        â”‚  â€¢ Certificates  â”‚
â”‚  â€¢ auth_tokens      â”‚  â€¢ availability     â”‚  â€¢ analytics        â”‚  â€¢ Backups       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>
        </div>

        <div class="section" id="auth-flows">
            <h2>ğŸ” Authentication Flow Breakdowns</h2>
            
            <h3>ğŸ“§ Email/Password Authentication Flow</h3>
            <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚     â”‚   Frontend   â”‚     â”‚    Backend    â”‚     â”‚ Database â”‚
â”‚ (Client) â”‚     â”‚   (React)    â”‚     â”‚  (Express)    â”‚     â”‚ (MySQL)  â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚                  â”‚                      â”‚                   â”‚
      â”‚ 1. Enter Email + Password               â”‚                   â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                      â”‚                   â”‚
      â”‚                  â”‚ 2. POST /api/auth/login                  â”‚
      â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
      â”‚                  â”‚                      â”‚ 3. Validate Credentials
      â”‚                  â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                  â”‚                      â”‚ 4. User Record    â”‚
      â”‚                  â”‚                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                  â”‚                      â”‚ 5. Compare bcrypt â”‚
      â”‚                  â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
      â”‚                  â”‚                      â”‚         â”‚         â”‚
      â”‚                  â”‚                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
      â”‚                  â”‚                      â”‚ 6. Generate JWT   â”‚
      â”‚                  â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
      â”‚                  â”‚                      â”‚         â”‚         â”‚
      â”‚                  â”‚                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
      â”‚                  â”‚ 7. Return JWT + Userâ”‚                   â”‚
      â”‚                  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
      â”‚                  â”‚ 8. Store in localStorage                 â”‚
      â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚                   â”‚
      â”‚                  â”‚         â”‚            â”‚                   â”‚
      â”‚                  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚                   â”‚
      â”‚ 9. Redirect to Dashboard                â”‚                   â”‚
      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚                   â”‚
            </div>

            <h3>ğŸ” Google OAuth 2.0 Flow</h3>
            <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚   â”‚   Frontend   â”‚   â”‚    Backend    â”‚   â”‚Google OAuth  â”‚   â”‚ Database â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚                â”‚                    â”‚                  â”‚                 â”‚
      â”‚ 1. Click "Login with Google"        â”‚                  â”‚                 â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                    â”‚                  â”‚                 â”‚
      â”‚                â”‚ 2. Redirect to Google Auth URL        â”‚                 â”‚
      â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚
      â”‚                â”‚                    â”‚                  â”‚                 â”‚
      â”‚ 3. User Authorizes & Consents       â”‚                  â”‚                 â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚
      â”‚                â”‚                    â”‚ 4. Auth Code     â”‚                 â”‚
      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
      â”‚ 5. Send Code to Frontend            â”‚                  â”‚                 â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 6. POST /api/auth/google              â”‚                 â”‚
      â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 7. Exchange Code â”‚                 â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚
      â”‚                â”‚                    â”‚ 8. Access Token â”‚                 â”‚
      â”‚                â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
      â”‚                â”‚                    â”‚ 9. Get User Info â”‚                 â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚
      â”‚                â”‚                    â”‚ 10. User Profile â”‚                 â”‚
      â”‚                â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
      â”‚                â”‚                    â”‚ 11. Create/Update User            â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                â”‚                    â”‚ 12. User Record  â”‚                 â”‚
      â”‚                â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                â”‚ 13. JWT + User Dataâ”‚                  â”‚                 â”‚
      â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚                 â”‚
      â”‚ 14. Success Redirect                â”‚                  â”‚                 â”‚
      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚                  â”‚                 â”‚
            </div>

            <h3>ğŸ“± OTP via AWS SNS Flow</h3>
            <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚   â”‚   Frontend   â”‚   â”‚    Backend    â”‚   â”‚ AWS SNS  â”‚   â”‚ Database â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚                â”‚                    â”‚                 â”‚              â”‚
      â”‚ 1. Enter Phone Number (+91XXXXXXXXXX)                 â”‚              â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                    â”‚                 â”‚              â”‚
      â”‚                â”‚ 2. POST /api/auth/request-otp        â”‚              â”‚
      â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚              â”‚
      â”‚                â”‚                    â”‚ 3. Validate Phone Format       â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚              â”‚
      â”‚                â”‚                    â”‚         â”‚       â”‚              â”‚
      â”‚                â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚              â”‚
      â”‚                â”‚                    â”‚ 4. Generate 6-digit OTP        â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚              â”‚
      â”‚                â”‚                    â”‚         â”‚       â”‚              â”‚
      â”‚                â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚              â”‚
      â”‚                â”‚                    â”‚ 5. Store OTP + Expiry          â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                â”‚                    â”‚ 6. Send SMS via SNS           â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚              â”‚
      â”‚                â”‚                    â”‚ 7. SMS Sent     â”‚              â”‚
      â”‚                â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
      â”‚                â”‚ 8. OTP Sent Response                 â”‚              â”‚
      â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚              â”‚
      â”‚ 9. Enter OTP (6-digit)              â”‚                 â”‚              â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 10. POST /api/auth/verify-otp        â”‚              â”‚
      â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 11. Validate OTP & Expiry      â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                â”‚                    â”‚ 12. OTP Valid   â”‚              â”‚
      â”‚                â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                â”‚                    â”‚ 13. Clear OTP   â”‚              â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                â”‚                    â”‚ 14. Generate JWTâ”‚              â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚              â”‚
      â”‚                â”‚                    â”‚         â”‚       â”‚              â”‚
      â”‚                â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚              â”‚
      â”‚                â”‚ 15. JWT + Success  â”‚                 â”‚              â”‚
      â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚              â”‚
      â”‚ 16. Login Success                   â”‚                 â”‚              â”‚
      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚                 â”‚              â”‚
            </div>

            <div class="flow-step">
                <h4>ğŸ”’ JWT Token Structure</h4>
                <div class="api-route">
                    <strong>Header:</strong> { "alg": "HS256", "typ": "JWT" }<br>
                    <strong>Payload:</strong> { "userId": 123, "email": "user@example.com", "role": "user", "exp": 1640995200 }<br>
                    <strong>Signature:</strong> HMACSHA256(base64UrlEncode(header) + "." + base64UrlEncode(payload), secret)
                </div>
            </div>
        </div>

        <div class="section" id="booking-inquiry">
            <h2>ğŸ“ Booking vs Inquiry Flows</h2>
            
            <h3>ğŸ¢ Warehouse Booking Flow (Paid Transaction)</h3>
            <div class="journey-flow">
                <h4>Trigger: User wants to rent warehouse space</h4>
                <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚   â”‚   Frontend   â”‚   â”‚    Backend    â”‚   â”‚  Razorpay    â”‚   â”‚ Database â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚                â”‚                    â”‚                  â”‚                 â”‚
      â”‚ 1. Select Warehouse & Duration      â”‚                  â”‚                 â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                    â”‚                  â”‚                 â”‚
      â”‚                â”‚ 2. POST /api/booking/create          â”‚                 â”‚
      â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                 â”‚
      â”‚                â”‚                    â”‚ 3. Validate Availability          â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                â”‚                    â”‚ 4. Create Booking (PENDING)      â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                â”‚                    â”‚ 5. Booking ID    â”‚                 â”‚
      â”‚                â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                â”‚                    â”‚ 6. Create Razorpay Order          â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚
      â”‚                â”‚                    â”‚ 7. Order Details â”‚                 â”‚
      â”‚                â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
      â”‚                â”‚ 8. Payment Details â”‚                  â”‚                 â”‚
      â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚                 â”‚
      â”‚                â”‚ 9. Open Razorpay Checkout            â”‚                 â”‚
      â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚
      â”‚ 10. Complete Payment                 â”‚                  â”‚                 â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚
      â”‚                â”‚                    â”‚                  â”‚                 â”‚
      â”‚ 11. Payment Success Response        â”‚                  â”‚                 â”‚
      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
      â”‚                â”‚ 12. Send Payment Data                   â”‚                 â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 13. Verify Payment                 â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚
      â”‚                â”‚                    â”‚ 14. Update Booking (CONFIRMED)     â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                â”‚                    â”‚ 15. Send Confirmation Email       â”‚
      â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚                 â”‚
      â”‚                â”‚                    â”‚         â”‚         â”‚                 â”‚
      â”‚                â”‚                    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚                 â”‚
      â”‚                â”‚ 16. Success + Receipt                  â”‚                 â”‚
      â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚                 â”‚
      â”‚ 17. Booking Confirmed               â”‚                  â”‚                 â”‚
      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚                  â”‚                 â”‚
                </div>
                
                <p><strong>Who Sees It:</strong> User, Warehouse Owner, Admin</p>
                <p><strong>Data Stored:</strong> bookings table (user_id, warehouse_id, start_date, end_date, amount, status) + payments table</p>
                <p><strong>Status Flow:</strong> PENDING â†’ CONFIRMED â†’ ACTIVE â†’ COMPLETED</p>
            </div>

            <h3>ğŸ’¬ Warehouse Inquiry Flow (Information Request)</h3>
            <div class="journey-flow">
                <h4>Trigger: User wants information about warehouse</h4>
                <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚         â”‚   Frontend   â”‚         â”‚    Backend    â”‚         â”‚ Database â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚                      â”‚                          â”‚                       â”‚
      â”‚ 1. Fill Inquiry Form (message, contact details) â”‚                       â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                          â”‚                       â”‚
      â”‚                      â”‚ 2. POST /api/inquiry/create                     â”‚
      â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                       â”‚
      â”‚                      â”‚                          â”‚ 3. Validate Input    â”‚
      â”‚                      â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
      â”‚                      â”‚                          â”‚         â”‚             â”‚
      â”‚                      â”‚                          â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
      â”‚                      â”‚                          â”‚ 4. Save Inquiry       â”‚
      â”‚                      â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                      â”‚                          â”‚ 5. Inquiry ID         â”‚
      â”‚                      â”‚                          â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                      â”‚                          â”‚ 6. Notify Warehouse Owner
      â”‚                      â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
      â”‚                      â”‚                          â”‚         â”‚             â”‚
      â”‚                      â”‚                          â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
      â”‚                      â”‚                          â”‚ 7. Notify Admin       â”‚
      â”‚                      â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
      â”‚                      â”‚                          â”‚         â”‚             â”‚
      â”‚                      â”‚                          â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
      â”‚                      â”‚ 8. Inquiry Submitted     â”‚                       â”‚
      â”‚                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
      â”‚ 9. Thank You Message â”‚                          â”‚                       â”‚
      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                          â”‚                       â”‚
                </div>
                
                <p><strong>Who Sees It:</strong> Warehouse Owner (email notification), User (confirmation), Admin (dashboard)</p>
                <p><strong>Data Stored:</strong> inquiries table (user_id, warehouse_id, message, contact_email, contact_phone, status)</p>
                <p><strong>Status Flow:</strong> NEW â†’ RESPONDED â†’ CONVERTED_TO_BOOKING â†’ CLOSED</p>
            </div>

            <div class="architecture-grid">
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ“</span>Booking Process</h4>
                    <ul>
                        <li><strong>Purpose:</strong> Paid warehouse rental</li>
                        <li><strong>Payment:</strong> Required upfront</li>
                        <li><strong>Verification:</strong> Razorpay signature</li>
                        <li><strong>Contract:</strong> Legal binding agreement</li>
                        <li><strong>Access:</strong> Physical warehouse keys</li>
                    </ul>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ’¬</span>Inquiry Process</h4>
                    <ul>
                        <li><strong>Purpose:</strong> Information gathering</li>
                        <li><strong>Payment:</strong> Not required</li>
                        <li><strong>Verification:</strong> Email/phone validation</li>
                        <li><strong>Contract:</strong> No legal commitment</li>
                        <li><strong>Access:</strong> Information only</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section" id="admin-actions">
            <h2>ğŸ‘‘ Admin Role Actions & Permissions</h2>
            
            <h3>ğŸ›¡ï¸ Admin Permission Matrix</h3>
            <table>
                <tr>
                    <th>Action Category</th>
                    <th>Specific Actions</th>
                    <th>Admin Level</th>
                    <th>API Endpoint</th>
                </tr>
                <tr>
                    <td rowspan="4">Warehouse Management</td>
                    <td>Approve/Reject new warehouse listings</td>
                    <td>Admin, Moderator</td>
                    <td>PATCH /api/admin/warehouse/:id/approve</td>
                </tr>
                <tr>
                    <td>Edit warehouse details</td>
                    <td>Admin only</td>
                    <td>PUT /api/admin/warehouse/:id</td>
                </tr>
                <tr>
                    <td>Suspend/Unsuspend warehouses</td>
                    <td>Admin only</td>
                    <td>PATCH /api/admin/warehouse/:id/suspend</td>
                </tr>
                <tr>
                    <td>Delete warehouse (soft delete)</td>
                    <td>Super Admin only</td>
                    <td>DELETE /api/admin/warehouse/:id</td>
                </tr>
                <tr>
                    <td rowspan="4">User Management</td>
                    <td>View user profiles & activity</td>
                    <td>Admin, Support</td>
                    <td>GET /api/admin/users/:id</td>
                </tr>
                <tr>
                    <td>Suspend/Activate user accounts</td>
                    <td>Admin only</td>
                    <td>PATCH /api/admin/users/:id/status</td>
                </tr>
                <tr>
                    <td>Reset user passwords</td>
                    <td>Admin, Support</td>
                    <td>POST /api/admin/users/:id/reset-password</td>
                </tr>
                <tr>
                    <td>Change user roles</td>
                    <td>Super Admin only</td>
                    <td>PATCH /api/admin/users/:id/role</td>
                </tr>
                <tr>
                    <td rowspan="3">Booking Oversight</td>
                    <td>View all bookings</td>
                    <td>Admin, Support</td>
                    <td>GET /api/admin/bookings</td>
                </tr>
                <tr>
                    <td>Cancel bookings (with refund)</td>
                    <td>Admin only</td>
                    <td>POST /api/admin/bookings/:id/cancel</td>
                </tr>
                <tr>
                    <td>Resolve booking disputes</td>
                    <td>Admin, Manager</td>
                    <td>PATCH /api/admin/bookings/:id/resolve</td>
                </tr>
                <tr>
                    <td rowspan="3">Inquiry Management</td>
                    <td>Assign inquiries to warehouse owners</td>
                    <td>Admin, Moderator</td>
                    <td>PATCH /api/admin/inquiries/:id/assign</td>
                </tr>
                <tr>
                    <td>Convert inquiries to bookings</td>
                    <td>Admin only</td>
                    <td>POST /api/admin/inquiries/:id/convert</td>
                </tr>
                <tr>
                    <td>Mark inquiries as resolved</td>
                    <td>Admin, Support</td>
                    <td>PATCH /api/admin/inquiries/:id/resolve</td>
                </tr>
            </table>

            <h3>ğŸ“Š Admin Dashboard Examples</h3>
            <div class="architecture-grid">
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ¢</span>Warehouse Approval Example</h4>
                    <div class="api-route">
                        // Admin reviews "Mumbai Warehouse #45"<br>
                        // Location: Andheri East, 5000 sq ft<br>
                        // Documents: Property papers âœ…, NOC âœ…<br>
                        // Action: Click "Approve"<br>
                        // Result: Status changes to "VERIFIED"<br>
                        // Notification: Owner gets approval email
                    </div>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ“‹</span>Inquiry Assignment Example</h4>
                    <div class="api-route">
                        // New inquiry: "Need 2000 sq ft in Pune"<br>
                        // Admin action: Search warehouses in Pune<br>
                        // Assign to: "Pune Logistics Hub" owner<br>
                        // Auto-email: Sent to warehouse owner<br>
                        // Follow-up: Set reminder for 24 hours
                    </div>
                </div>
            </div>

            <h3>ğŸ”„ Admin Workflow Examples</h3>
            <div class="flow-step">
                <h4>Daily Admin Tasks</h4>
                <ol>
                    <li><strong>Morning Review:</strong> Check pending warehouse approvals (target: 24h approval time)</li>
                    <li><strong>Inquiry Management:</strong> Assign new inquiries to appropriate warehouse owners</li>
                    <li><strong>Dispute Resolution:</strong> Review booking cancellation requests</li>
                    <li><strong>Analytics Review:</strong> Monitor platform metrics and user activity</li>
                    <li><strong>System Maintenance:</strong> Check logs for errors or security issues</li>
                </ol>
            </div>
        </div>

        <div class="section" id="component-tree">
            <h2>ğŸŒ³ React Component Tree Structure</h2>
            
            <div class="diagram">
App.jsx (Root Component)
â”œâ”€â”€ Providers/
â”‚   â”œâ”€â”€ AuthProvider.jsx (Authentication Context)
â”‚   â”œâ”€â”€ ThemeProvider.jsx (Theme/Dark Mode)
â”‚   â””â”€â”€ QueryProvider.jsx (React Query Client)
â”‚
â”œâ”€â”€ Router/
â”‚   â”œâ”€â”€ AppRouter.jsx (Main Routing Logic)
â”‚   â”œâ”€â”€ ProtectedRoute.jsx (Auth Guard)
â”‚   â””â”€â”€ AdminRoute.jsx (Admin Guard)
â”‚
â”œâ”€â”€ Layout/
â”‚   â”œâ”€â”€ Header/
â”‚   â”‚   â”œâ”€â”€ Navbar.jsx
â”‚   â”‚   â”œâ”€â”€ SearchBar.jsx
â”‚   â”‚   â”œâ”€â”€ UserMenu.jsx
â”‚   â”‚   â””â”€â”€ MobileMenu.jsx
â”‚   â”œâ”€â”€ Footer/
â”‚   â”‚   â”œâ”€â”€ Footer.jsx
â”‚   â”‚   â”œâ”€â”€ LinkSection.jsx
â”‚   â”‚   â””â”€â”€ SocialLinks.jsx
â”‚   â””â”€â”€ Sidebar/
â”‚       â”œâ”€â”€ Sidebar.jsx
â”‚       â””â”€â”€ SidebarMenu.jsx
â”‚
â”œâ”€â”€ Pages/
â”‚   â”œâ”€â”€ Public/
â”‚   â”‚   â”œâ”€â”€ Landing/
â”‚   â”‚   â”‚   â”œâ”€â”€ LandingPage.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ HeroSection.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FeatureCards.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TestimonialSection.jsx
â”‚   â”‚   â”‚   â””â”€â”€ CTASection.jsx
â”‚   â”‚   â”œâ”€â”€ WarehouseList/
â”‚   â”‚   â”‚   â”œâ”€â”€ WarehouseListPage.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FilterSidebar.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ WarehouseGrid.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ WarehouseCard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PaginationControls.jsx
â”‚   â”‚   â”‚   â””â”€â”€ SortDropdown.jsx
â”‚   â”‚   â”œâ”€â”€ WarehouseDetail/
â”‚   â”‚   â”‚   â”œâ”€â”€ WarehouseDetailPage.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ImageGallery.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ WarehouseInfo.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AmenitiesList.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ LocationMap.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ BookingForm.jsx
â”‚   â”‚   â”‚   â””â”€â”€ InquiryForm.jsx
â”‚   â”‚   â””â”€â”€ About/
â”‚   â”‚       â”œâ”€â”€ AboutPage.jsx
â”‚   â”‚       â”œâ”€â”€ TeamSection.jsx
â”‚   â”‚       â””â”€â”€ ContactForm.jsx
â”‚   â”‚
â”‚   â”œâ”€â”€ Auth/
â”‚   â”‚   â”œâ”€â”€ LoginPage.jsx
â”‚   â”‚   â”œâ”€â”€ RegisterPage.jsx
â”‚   â”‚   â”œâ”€â”€ ForgotPasswordPage.jsx
â”‚   â”‚   â”œâ”€â”€ OTPVerificationPage.jsx
â”‚   â”‚   â”œâ”€â”€ GoogleCallback.jsx
â”‚   â”‚   â””â”€â”€ Components/
â”‚   â”‚       â”œâ”€â”€ LoginForm.jsx
â”‚   â”‚       â”œâ”€â”€ RegisterForm.jsx
â”‚   â”‚       â”œâ”€â”€ OTPInput.jsx
â”‚   â”‚       â””â”€â”€ GoogleLoginButton.jsx
â”‚   â”‚
â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”œâ”€â”€ User/
â”‚   â”‚   â”‚   â”œâ”€â”€ UserDashboard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardStats.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ QuickActions.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ RecentActivity.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MyWarehouses/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MyWarehousesPage.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WarehouseTable.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AddWarehouseModal.jsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ EditWarehouseModal.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MyBookings/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MyBookingsPage.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BookingTable.jsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BookingDetailsModal.jsx
â”‚   â”‚   â”‚   â””â”€â”€ Profile/
â”‚   â”‚   â”‚       â”œâ”€â”€ ProfilePage.jsx
â”‚   â”‚   â”‚       â”œâ”€â”€ ProfileForm.jsx
â”‚   â”‚   â”‚       â””â”€â”€ PasswordChangeForm.jsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ Admin/
â”‚   â”‚       â”œâ”€â”€ AdminDashboard.jsx
â”‚   â”‚       â”œâ”€â”€ AdminStats.jsx
â”‚   â”‚       â”œâ”€â”€ PendingApprovals/
â”‚   â”‚       â”‚   â”œâ”€â”€ ApprovalsPage.jsx
â”‚   â”‚       â”‚   â”œâ”€â”€ ApprovalQueue.jsx
â”‚   â”‚       â”‚   â””â”€â”€ ApprovalModal.jsx
â”‚   â”‚       â”œâ”€â”€ UserManagement/
â”‚   â”‚       â”‚   â”œâ”€â”€ UserManagementPage.jsx
â”‚   â”‚       â”‚   â”œâ”€â”€ UserTable.jsx
â”‚   â”‚       â”‚   â”œâ”€â”€ UserDetailsModal.jsx
â”‚   â”‚       â”‚   â””â”€â”€ BulkActions.jsx
â”‚   â”‚       â”œâ”€â”€ Analytics/
â”‚   â”‚       â”‚   â”œâ”€â”€ AnalyticsPage.jsx
â”‚   â”‚       â”‚   â”œâ”€â”€ RevenueChart.jsx
â”‚   â”‚       â”‚   â”œâ”€â”€ UserGrowthChart.jsx
â”‚   â”‚       â”‚   â”œâ”€â”€ GeographicChart.jsx
â”‚   â”‚       â”‚   â””â”€â”€ KPICards.jsx
â”‚   â”‚       â””â”€â”€ SystemConfig/
â”‚   â”‚           â”œâ”€â”€ ConfigPage.jsx
â”‚   â”‚           â”œâ”€â”€ SettingsForm.jsx
â”‚   â”‚           â””â”€â”€ FeatureFlags.jsx
â”‚   â”‚
â”‚   â””â”€â”€ Payment/
â”‚       â”œâ”€â”€ PaymentPage.jsx
â”‚       â”œâ”€â”€ PaymentForm.jsx
â”‚       â”œâ”€â”€ PaymentSuccess.jsx
â”‚       â”œâ”€â”€ PaymentFailure.jsx
â”‚       â””â”€â”€ PaymentHistory.jsx
â”‚
â”œâ”€â”€ Components/ (Shared/Reusable)
â”‚   â”œâ”€â”€ UI/
â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingButton.jsx
â”‚   â”‚   â”‚   â””â”€â”€ IconButton.jsx
â”‚   â”‚   â”œâ”€â”€ Forms/
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Select.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Checkbox.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ RadioGroup.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FileUpload.jsx
â”‚   â”‚   â”‚   â””â”€â”€ FormField.jsx
â”‚   â”‚   â”œâ”€â”€ Feedback/
â”‚   â”‚   â”‚   â”œâ”€â”€ Alert.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Toast.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProgressBar.jsx
â”‚   â”‚   â”‚   â””â”€â”€ Skeleton.jsx
â”‚   â”‚   â”œâ”€â”€ Display/
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Dropdown.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Tabs.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Accordion.jsx
â”‚   â”‚   â”‚   â””â”€â”€ Table.jsx
â”‚   â”‚   â””â”€â”€ Navigation/
â”‚   â”‚       â”œâ”€â”€ Breadcrumb.jsx
â”‚   â”‚       â”œâ”€â”€ Pagination.jsx
â”‚   â”‚       â”œâ”€â”€ Menu.jsx
â”‚   â”‚       â””â”€â”€ BackButton.jsx
â”‚   â”‚
â”‚   â”œâ”€â”€ Business/
â”‚   â”‚   â”œâ”€â”€ WarehouseCard.jsx
â”‚   â”‚   â”œâ”€â”€ BookingCard.jsx
â”‚   â”‚   â”œâ”€â”€ PaymentCard.jsx
â”‚   â”‚   â”œâ”€â”€ UserAvatar.jsx
â”‚   â”‚   â”œâ”€â”€ StatusBadge.jsx
â”‚   â”‚   â”œâ”€â”€ PriceDisplay.jsx
â”‚   â”‚   â”œâ”€â”€ LocationTag.jsx
â”‚   â”‚   â””â”€â”€ RatingStars.jsx
â”‚   â”‚
â”‚   â””â”€â”€ Charts/
â”‚       â”œâ”€â”€ LineChart.jsx
â”‚       â”œâ”€â”€ BarChart.jsx
â”‚       â”œâ”€â”€ PieChart.jsx
â”‚       â”œâ”€â”€ AreaChart.jsx
â”‚       â””â”€â”€ HeatMap.jsx
â”‚
â”œâ”€â”€ Hooks/ (Custom React Hooks)
â”‚   â”œâ”€â”€ useAuth.js
â”‚   â”œâ”€â”€ useForm.js
â”‚   â”œâ”€â”€ useApi.js
â”‚   â”œâ”€â”€ useLocalStorage.js
â”‚   â”œâ”€â”€ useDebounce.js
â”‚   â”œâ”€â”€ usePagination.js
â”‚   â”œâ”€â”€ useModal.js
â”‚   â””â”€â”€ useToast.js
â”‚
â”œâ”€â”€ Services/ (API Layer)
â”‚   â”œâ”€â”€ api.js (Axios instance)
â”‚   â”œâ”€â”€ authService.js
â”‚   â”œâ”€â”€ warehouseService.js
â”‚   â”œâ”€â”€ bookingService.js
â”‚   â”œâ”€â”€ paymentService.js
â”‚   â”œâ”€â”€ adminService.js
â”‚   â””â”€â”€ uploadService.js
â”‚
â”œâ”€â”€ Utils/
â”‚   â”œâ”€â”€ constants.js
â”‚   â”œâ”€â”€ helpers.js
â”‚   â”œâ”€â”€ validation.js
â”‚   â”œâ”€â”€ formatting.js
â”‚   â”œâ”€â”€ dateUtils.js
â”‚   â””â”€â”€ localStorage.js
â”‚
â”œâ”€â”€ Types/ (TypeScript definitions)
â”‚   â”œâ”€â”€ user.types.ts
â”‚   â”œâ”€â”€ warehouse.types.ts
â”‚   â”œâ”€â”€ booking.types.ts
â”‚   â”œâ”€â”€ payment.types.ts
â”‚   â””â”€â”€ common.types.ts
â”‚
â””â”€â”€ Assets/
    â”œâ”€â”€ images/
    â”œâ”€â”€ icons/
    â”œâ”€â”€ styles/
    â”‚   â”œâ”€â”€ globals.css
    â”‚   â”œâ”€â”€ components.css
    â”‚   â””â”€â”€ utilities.css
    â””â”€â”€ fonts/
            </div>

            <div class="architecture-grid">
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ¯</span>Component Design Principles</h4>
                    <ul>
                        <li><strong>Atomic Design:</strong> Atoms â†’ Molecules â†’ Organisms â†’ Pages</li>
                        <li><strong>Single Responsibility:</strong> Each component has one clear purpose</li>
                        <li><strong>Prop Drilling Avoidance:</strong> Use Context for shared state</li>
                        <li><strong>Performance:</strong> React.memo() for expensive components</li>
                        <li><strong>Accessibility:</strong> ARIA labels and semantic HTML</li>
                    </ul>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ”„</span>State Management Strategy</h4>
                    <ul>
                        <li><strong>Local State:</strong> useState for component-specific data</li>
                        <li><strong>Global State:</strong> Context API for auth/theme</li>
                        <li><strong>Server State:</strong> React Query for API data</li>
                        <li><strong>Form State:</strong> React Hook Form for complex forms</li>
                        <li><strong>URL State:</strong> React Router for navigation state</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section" id="service-layer">
            <h2>ğŸ”§ Service Layer & Modular Logic</h2>
            
            <h3>ğŸ—ï¸ Backend Service Architecture</h3>
            <div class="diagram">
Express.js Application
â”œâ”€â”€ Controllers/ (Request/Response Handling)
â”‚   â”œâ”€â”€ AuthController.js
â”‚   â”‚   â”œâ”€â”€ login()
â”‚   â”‚   â”œâ”€â”€ register()
â”‚   â”‚   â”œâ”€â”€ googleAuth()
â”‚   â”‚   â”œâ”€â”€ requestOTP()
â”‚   â”‚   â””â”€â”€ verifyOTP()
â”‚   â”œâ”€â”€ WarehouseController.js
â”‚   â”‚   â”œâ”€â”€ getWarehouses()
â”‚   â”‚   â”œâ”€â”€ getWarehouseById()
â”‚   â”‚   â”œâ”€â”€ createWarehouse()
â”‚   â”‚   â”œâ”€â”€ updateWarehouse()
â”‚   â”‚   â””â”€â”€ deleteWarehouse()
â”‚   â”œâ”€â”€ BookingController.js
â”‚   â”‚   â”œâ”€â”€ createBooking()
â”‚   â”‚   â”œâ”€â”€ getMyBookings()
â”‚   â”‚   â”œâ”€â”€ cancelBooking()
â”‚   â”‚   â””â”€â”€ getBookingDetails()
â”‚   â”œâ”€â”€ PaymentController.js
â”‚   â”‚   â”œâ”€â”€ createOrder()
â”‚   â”‚   â”œâ”€â”€ verifyPayment()
â”‚   â”‚   â”œâ”€â”€ handleWebhook()
â”‚   â”‚   â””â”€â”€ processRefund()
â”‚   â””â”€â”€ AdminController.js
â”‚       â”œâ”€â”€ approveWarehouse()
â”‚       â”œâ”€â”€ getUserList()
â”‚       â”œâ”€â”€ getAnalytics()
â”‚       â””â”€â”€ manageInquiries()
â”‚
â”œâ”€â”€ Services/ (Business Logic Layer)
â”‚   â”œâ”€â”€ AuthService.js
â”‚   â”‚   â”œâ”€â”€ validateCredentials()
â”‚   â”‚   â”œâ”€â”€ generateJWT()
â”‚   â”‚   â”œâ”€â”€ verifyToken()
â”‚   â”‚   â”œâ”€â”€ hashPassword()
â”‚   â”‚   â”œâ”€â”€ sendOTP()
â”‚   â”‚   â””â”€â”€ googleOAuthFlow()
â”‚   â”œâ”€â”€ WarehouseService.js
â”‚   â”‚   â”œâ”€â”€ searchWarehouses()
â”‚   â”‚   â”œâ”€â”€ filterByLocation()
â”‚   â”‚   â”œâ”€â”€ checkAvailability()
â”‚   â”‚   â”œâ”€â”€ validateWarehouseData()
â”‚   â”‚   â””â”€â”€ updateWarehouseStatus()
â”‚   â”œâ”€â”€ BookingService.js
â”‚   â”‚   â”œâ”€â”€ validateBookingDates()
â”‚   â”‚   â”œâ”€â”€ calculateTotalAmount()
â”‚   â”‚   â”œâ”€â”€ checkConflicts()
â”‚   â”‚   â”œâ”€â”€ createBookingRecord()
â”‚   â”‚   â””â”€â”€ updateBookingStatus()
â”‚   â”œâ”€â”€ PaymentService.js
â”‚   â”‚   â”œâ”€â”€ createRazorpayOrder()
â”‚   â”‚   â”œâ”€â”€ verifyPaymentSignature()
â”‚   â”‚   â”œâ”€â”€ updatePaymentStatus()
â”‚   â”‚   â”œâ”€â”€ processRefund()
â”‚   â”‚   â””â”€â”€ generateInvoice()
â”‚   â”œâ”€â”€ NotificationService.js
â”‚   â”‚   â”œâ”€â”€ sendEmail()
â”‚   â”‚   â”œâ”€â”€ sendSMS()
â”‚   â”‚   â”œâ”€â”€ createNotification()
â”‚   â”‚   â””â”€â”€ pushNotification()
â”‚   â”œâ”€â”€ FileService.js
â”‚   â”‚   â”œâ”€â”€ uploadImage()
â”‚   â”‚   â”œâ”€â”€ resizeImage()
â”‚   â”‚   â”œâ”€â”€ validateFileType()
â”‚   â”‚   â”œâ”€â”€ generateThumbnail()
â”‚   â”‚   â””â”€â”€ deleteFile()
â”‚   â””â”€â”€ AnalyticsService.js
â”‚       â”œâ”€â”€ trackUserEvent()
â”‚       â”œâ”€â”€ calculateRevenue()
â”‚       â”œâ”€â”€ generateReports()
â”‚       â”œâ”€â”€ getUserMetrics()
â”‚       â””â”€â”€ getWarehouseStats()
â”‚
â”œâ”€â”€ Middleware/ (Cross-cutting Concerns)
â”‚   â”œâ”€â”€ authMiddleware.js (JWT validation)
â”‚   â”œâ”€â”€ roleMiddleware.js (Permission checking)
â”‚   â”œâ”€â”€ validationMiddleware.js (Input validation)
â”‚   â”œâ”€â”€ rateLimitMiddleware.js (Rate limiting)
â”‚   â”œâ”€â”€ corsMiddleware.js (CORS policy)
â”‚   â”œâ”€â”€ errorMiddleware.js (Error handling)
â”‚   â””â”€â”€ loggingMiddleware.js (Request logging)
â”‚
â”œâ”€â”€ Models/ (Data Layer)
â”‚   â”œâ”€â”€ User.js (Sequelize model)
â”‚   â”œâ”€â”€ Warehouse.js
â”‚   â”œâ”€â”€ Booking.js
â”‚   â”œâ”€â”€ Payment.js
â”‚   â”œâ”€â”€ Inquiry.js
â”‚   â””â”€â”€ WarehouseAnalytics.js
â”‚
â”œâ”€â”€ Routes/ (API Endpoints)
â”‚   â”œâ”€â”€ authRoutes.js
â”‚   â”œâ”€â”€ warehouseRoutes.js
â”‚   â”œâ”€â”€ bookingRoutes.js
â”‚   â”œâ”€â”€ paymentRoutes.js
â”‚   â”œâ”€â”€ adminRoutes.js
â”‚   â””â”€â”€ publicRoutes.js
â”‚
â””â”€â”€ Utils/ (Helper Functions)
    â”œâ”€â”€ database.js (DB connection)
    â”œâ”€â”€ validation.js (Validation schemas)
    â”œâ”€â”€ encryption.js (Crypto functions)
    â”œâ”€â”€ dateHelpers.js
    â”œâ”€â”€ fileHelpers.js
    â””â”€â”€ constants.js
            </div>

            <h3>ğŸ”„ Service Interaction Flow</h3>
            <div class="flow-step">
                <h4>Example: User Books a Warehouse</h4>
                <ol>
                    <li><strong>Controller:</strong> BookingController.createBooking() receives request</li>
                    <li><strong>Validation:</strong> Middleware validates input data and JWT token</li>
                    <li><strong>Business Logic:</strong> BookingService.validateBookingDates() checks availability</li>
                    <li><strong>Payment:</strong> PaymentService.createRazorpayOrder() creates payment order</li>
                    <li><strong>Database:</strong> BookingService.createBookingRecord() saves to DB</li>
                    <li><strong>Notification:</strong> NotificationService.sendEmail() confirms booking</li>
                    <li><strong>Analytics:</strong> AnalyticsService.trackUserEvent() logs the action</li>
                    <li><strong>Response:</strong> Controller returns formatted response to frontend</li>
                </ol>
            </div>

            <div class="architecture-grid">
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ”</span>AuthService Example</h4>
                    <div class="api-route">
// services/AuthService.js<br>
class AuthService {<br>
&nbsp;&nbsp;async login(email, password) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;const user = await User.findByEmail(email);<br>
&nbsp;&nbsp;&nbsp;&nbsp;const isValid = await bcrypt.compare(password, user.password);<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (!isValid) throw new Error('Invalid credentials');<br>
&nbsp;&nbsp;&nbsp;&nbsp;return this.generateJWT(user);<br>
&nbsp;&nbsp;}<br>
}<br>
                    </div>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ’³</span>PaymentService Example</h4>
                    <div class="api-route">
// services/PaymentService.js<br>
class PaymentService {<br>
&nbsp;&nbsp;async createOrder(bookingId, amount) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;const order = await razorpay.orders.create({<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;amount: amount * 100, // Convert to paise<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currency: 'INR',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;receipt: `booking_${bookingId}`<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br>
&nbsp;&nbsp;&nbsp;&nbsp;return order;<br>
&nbsp;&nbsp;}<br>
}<br>
                    </div>
                </div>
            </div>
        </div>

        <div class="section" id="security-hld">
            <h2>ğŸ›¡ï¸ Security High Level Design</h2>
            
            <div class="visual-diagram">
                <h3>ğŸ”’ Multi-Layer Security Architecture</h3>
                <div style="text-align: left; max-width: 800px; margin: 0 auto;">
                    <h4>ğŸŒ Network Security Layer</h4>
                    <p>â€¢ Cloudflare DDoS Protection â€¢ SSL/TLS Encryption â€¢ Web Application Firewall</p>
                    
                    <h4>ğŸšª Application Security Layer</h4>
                    <p>â€¢ JWT Authentication â€¢ Role-based Authorization â€¢ Input Validation â€¢ CORS Policy</p>
                    
                    <h4>ğŸ’¾ Data Security Layer</h4>
                    <p>â€¢ Bcrypt Password Hashing â€¢ Prepared Statements â€¢ Data Encryption â€¢ Audit Logging</p>
                    
                    <h4>ğŸ’³ Payment Security Layer</h4>
                    <p>â€¢ PCI DSS Compliance â€¢ Tokenized Payments â€¢ Signature Verification â€¢ Fraud Detection</p>
                </div>
            </div>

            <h3>ğŸ” JWT Security Implementation</h3>
            <div class="architecture-grid">
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ«</span>Token Structure</h4>
                    <ul>
                        <li><strong>Algorithm:</strong> HS256 (HMAC SHA-256)</li>
                        <li><strong>Expiration:</strong> 15 minutes (short-lived)</li>
                        <li><strong>Refresh Token:</strong> 7 days (rotation)</li>
                        <li><strong>Payload:</strong> User ID, role, permissions</li>
                        <li><strong>Secret:</strong> Environment variable, rotated monthly</li>
                    </ul>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ”’</span>Middleware Security</h4>
                    <div class="api-route">
// middleware/authMiddleware.js<br>
const verifyToken = (req, res, next) => {<br>
&nbsp;&nbsp;const token = req.header('Authorization')?.replace('Bearer ', '');<br>
&nbsp;&nbsp;if (!token) return res.status(401).json({ error: 'Access denied' });<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;try {<br>
&nbsp;&nbsp;&nbsp;&nbsp;const decoded = jwt.verify(token, process.env.JWT_SECRET);<br>
&nbsp;&nbsp;&nbsp;&nbsp;req.user = decoded;<br>
&nbsp;&nbsp;&nbsp;&nbsp;next();<br>
&nbsp;&nbsp;} catch (error) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;res.status(400).json({ error: 'Invalid token' });<br>
&nbsp;&nbsp;}<br>
};<br>
                    </div>
                </div>
            </div>

            <h3>ğŸ›¡ï¸ Input Validation & Sanitization</h3>
            <div class="security-layer">
                <h4>Joi Validation Schema Example</h4>
                <div class="api-route">
const warehouseSchema = Joi.object({<br>
&nbsp;&nbsp;name: Joi.string().min(3).max(100).required(),<br>
&nbsp;&nbsp;description: Joi.string().max(1000).required(),<br>
&nbsp;&nbsp;address: Joi.string().max(200).required(),<br>
&nbsp;&nbsp;city: Joi.string().min(2).max(50).required(),<br>
&nbsp;&nbsp;pincode: Joi.string().pattern(/^[1-9][0-9]{5}$/).required(),<br>
&nbsp;&nbsp;area_sqft: Joi.number().integer().min(100).max(100000).required(),<br>
&nbsp;&nbsp;price_per_sqft: Joi.number().min(1).max(1000).required()<br>
});
                </div>
            </div>

            <h3>ğŸ”‘ Role-Based Access Control (RBAC)</h3>
            <table>
                <tr>
                    <th>Role</th>
                    <th>Permissions</th>
                    <th>Access Level</th>
                </tr>
                <tr>
                    <td>Guest</td>
                    <td>View warehouses, create inquiries</td>
                    <td>Public pages only</td>
                </tr>
                <tr>
                    <td>User</td>
                    <td>Book warehouses, manage profile</td>
                    <td>User dashboard</td>
                </tr>
                <tr>
                    <td>Owner</td>
                    <td>List warehouses, view bookings</td>
                    <td>Owner dashboard</td>
                </tr>
                <tr>
                    <td>Moderator</td>
                    <td>Approve warehouses, manage inquiries</td>
                    <td>Limited admin panel</td>
                </tr>
                <tr>
                    <td>Admin</td>
                    <td>Full user & warehouse management</td>
                    <td>Full admin panel</td>
                </tr>
                <tr>
                    <td>Super Admin</td>
                    <td>System config, role management</td>
                    <td>System administration</td>
                </tr>
            </table>

            <h3>ğŸš¨ Security Monitoring</h3>
            <div class="security-layer">
                <h4>Real-time Security Alerts</h4>
                <ul>
                    <li><strong>Failed Login Attempts:</strong> >5 attempts in 10 minutes</li>
                    <li><strong>Suspicious API Usage:</strong> Rate limit exceeded</li>
                    <li><strong>Invalid Token Usage:</strong> Expired or tampered JWTs</li>
                    <li><strong>Unusual Payment Activity:</strong> High-value transactions</li>
                    <li><strong>Data Breach Attempts:</strong> SQL injection patterns</li>
                </ul>
            </div>
        </div>

        <div class="section" id="deployment-flow">
            <h2>ğŸš€ Deployment Infrastructure Flow</h2>
            
            <h3>ğŸ“¦ Dev â†’ Production Pipeline</h3>
            <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    DEV      â”‚â”€â”€â”€â”€â–¶â”‚   BUILD     â”‚â”€â”€â”€â”€â–¶â”‚    TEST     â”‚â”€â”€â”€â”€â–¶â”‚   DEPLOY    â”‚â”€â”€â”€â”€â–¶â”‚    LIVE     â”‚
â”‚ Environment â”‚     â”‚   Process   â”‚     â”‚   Process   â”‚     â”‚   Process   â”‚     â”‚ Environment â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                     â”‚                     â”‚                     â”‚
   â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚ Local  â”‚           â”‚  Vite  â”‚           â”‚  Jest  â”‚           â”‚  PM2   â”‚           â”‚ NGINX  â”‚
   â”‚ Setup  â”‚           â”‚ Build  â”‚           â”‚ Tests  â”‚           â”‚Manager â”‚           â”‚Reverse â”‚
   â”‚React+  â”‚           â”‚+       â”‚           â”‚+       â”‚           â”‚+       â”‚           â”‚ Proxy  â”‚
   â”‚Node.js â”‚           â”‚Bundle  â”‚           â”‚ESLint  â”‚           â”‚Deploy  â”‚           â”‚+SSL    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>

            <h3>ğŸ—ï¸ Infrastructure Components</h3>
            <div class="architecture-grid">
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ’»</span>VPS Server Setup</h4>
                    <ul>
                        <li><strong>OS:</strong> Ubuntu 22.04 LTS</li>
                        <li><strong>CPU:</strong> 4 vCPUs</li>
                        <li><strong>RAM:</strong> 8GB</li>
                        <li><strong>Storage:</strong> 160GB SSD</li>
                        <li><strong>Network:</strong> 1Gbps</li>
                    </ul>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">âš™ï¸</span>Process Management</h4>
                    <ul>
                        <li><strong>PM2:</strong> Node.js process manager</li>
                        <li><strong>Cluster Mode:</strong> 4 worker processes</li>
                        <li><strong>Auto-restart:</strong> On crash or memory limit</li>
                        <li><strong>Log Rotation:</strong> Daily log files</li>
                        <li><strong>Monitoring:</strong> CPU/Memory usage alerts</li>
                    </ul>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸŒ</span>Web Server Config</h4>
                    <ul>
                        <li><strong>NGINX:</strong> Reverse proxy + static files</li>
                        <li><strong>SSL/TLS:</strong> Let's Encrypt certificates</li>
                        <li><strong>Gzip:</strong> Response compression</li>
                        <li><strong>Caching:</strong> Browser + CDN caching</li>
                        <li><strong>Security:</strong> Headers + rate limiting</li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ”„ Deployment Commands</h3>
            <div class="flow-step">
                <h4>Automated Deployment Script</h4>
                <div class="api-route">
#!/bin/bash<br>
# deploy.sh - Automated deployment script<br>
<br>
echo "ğŸš€ Starting deployment..."<br>
<br>
# 1. Pull latest code<br>
git pull origin main<br>
<br>
# 2. Install dependencies<br>
npm ci --production<br>
<br>
# 3. Build frontend<br>
npm run build<br>
<br>
# 4. Run tests<br>
npm test<br>
<br>
# 5. Backup current deployment<br>
cp -r dist dist_backup_$(date +%Y%m%d_%H%M%S)<br>
<br>
# 6. Deploy new build<br>
cp -r dist/* /var/www/logic-i/dist/<br>
<br>
# 7. Restart backend<br>
pm2 restart logic-i-api<br>
<br>
# 8. Reload Nginx<br>
sudo nginx -s reload<br>
<br>
# 9. Health check<br>
curl -f http://localhost:3000/health || exit 1<br>
<br>
echo "âœ… Deployment completed successfully!"
                </div>
            </div>

            <h3>ğŸ“Š Monitoring & Alerts</h3>
            <table>
                <tr>
                    <th>Metric</th>
                    <th>Tool</th>
                    <th>Alert Threshold</th>
                    <th>Action</th>
                </tr>
                <tr>
                    <td>CPU Usage</td>
                    <td>PM2 Monitor</td>
                    <td>&gt; 80% for 5 minutes</td>
                    <td>Scale up or restart</td>
                </tr>
                <tr>
                    <td>Memory Usage</td>
                    <td>PM2 Monitor</td>
                    <td>&gt; 85% of available RAM</td>
                    <td>Restart processes</td>
                </tr>
                <tr>
                    <td>Response Time</td>
                    <td>UptimeRobot</td>
                    <td>&gt; 2 seconds average</td>
                    <td>Check database queries</td>
                </tr>
                <tr>
                    <td>Error Rate</td>
                    <td>Sentry</td>
                    <td>&gt; 5% of requests</td>
                    <td>Immediate investigation</td>
                </tr>
                <tr>
                    <td>Disk Space</td>
                    <td>System Monitor</td>
                    <td>&gt; 90% full</td>
                    <td>Clean logs, add storage</td>
                </tr>
            </table>
        </div>

        <div class="section" id="data-flow-examples">
            <h2>ğŸ“Š Real Data Flow Examples</h2>
            
            <h3>ğŸ¢ Example 1: "User Books Warehouse" Complete Flow</h3>
            <div class="journey-flow">
                <h4>Scenario: Rajesh needs 1000 sq ft warehouse in Mumbai for 6 months</h4>
                
                <div class="diagram">
Step-by-Step Data Flow:

1. ğŸ” SEARCH & DISCOVERY
   Frontend â†’ Backend â†’ Database
   GET /api/warehouses?city=Mumbai&min_area=1000
   Query: SELECT * FROM warehouses WHERE city='Mumbai' AND area_sqft >= 1000
   Result: [warehouse_id: 23, name: "Mumbai Storage Hub", area: 1200 sq ft]

2. ğŸ“‹ VIEW DETAILS
   Frontend â†’ Backend â†’ Database
   GET /api/warehouses/23
   Query: SELECT w.*, u.name as owner_name FROM warehouses w JOIN users u ON w.user_id = u.id WHERE w.id = 23
   Result: Complete warehouse details + owner info + images

3. ğŸ” USER AUTHENTICATION
   Frontend â†’ Backend â†’ Database
   POST /api/auth/login { email: "rajesh@email.com", password: "***" }
   Query: SELECT * FROM users WHERE email = 'rajesh@email.com'
   Action: bcrypt.compare(password, user.hashed_password)
   Result: JWT token generated

4. ğŸ“… BOOKING CREATION
   Frontend â†’ Backend â†’ Database
   POST /api/booking/create {
     warehouse_id: 23,
     start_date: "2024-01-01",
     end_date: "2024-06-30",
     user_id: 456 (from JWT)
   }
   
   Validation Queries:
   - Check availability: SELECT * FROM bookings WHERE warehouse_id = 23 
     AND ((start_date BETWEEN '2024-01-01' AND '2024-06-30') 
     OR (end_date BETWEEN '2024-01-01' AND '2024-06-30'))
   - Calculate amount: area_sqft * price_per_sqft * months = 1200 * 50 * 6 = â‚¹360,000
   
   Insert: INSERT INTO bookings (user_id, warehouse_id, start_date, end_date, total_amount, status)
   VALUES (456, 23, '2024-01-01', '2024-06-30', 360000, 'PENDING')
   Result: booking_id: 789

5. ğŸ’³ PAYMENT PROCESSING
   Backend â†’ Razorpay API
   POST https://api.razorpay.com/v1/orders
   Body: { amount: 36000000, currency: 'INR', receipt: 'booking_789' }
   Result: { order_id: 'order_ABC123', status: 'created' }
   
   Update: UPDATE bookings SET razorpay_order_id = 'order_ABC123' WHERE id = 789

6. ğŸ’° PAYMENT VERIFICATION
   Razorpay â†’ Backend Webhook
   POST /api/payment/webhook
   Body: { event: 'payment.captured', payment: { order_id: 'order_ABC123', status: 'captured' }}
   
   Verification: Validate signature using Razorpay webhook secret
   Update: UPDATE bookings SET status = 'CONFIRMED' WHERE razorpay_order_id = 'order_ABC123'
   Insert: INSERT INTO payments (booking_id, razorpay_payment_id, amount, status) 
   VALUES (789, 'pay_XYZ789', 360000, 'CAPTURED')

7. ğŸ“§ NOTIFICATIONS
   Backend â†’ Email Service
   - Send confirmation to Rajesh: "Booking confirmed for Mumbai Storage Hub"
   - Send notification to warehouse owner: "New booking received"
   - Update analytics: INSERT INTO warehouse_analytics (warehouse_id, bookings) 
     VALUES (23, bookings + 1) ON DUPLICATE KEY UPDATE bookings = bookings + 1

8. ğŸ“± REAL-TIME UPDATES
   Backend â†’ Frontend (WebSocket/Polling)
   - Update booking status on user dashboard
   - Show success message with booking details
   - Add booking to "My Bookings" list
                </div>
            </div>

            <h3>ğŸ—ï¸ Example 2: "Admin Approves Warehouse" Flow</h3>
            <div class="journey-flow">
                <h4>Scenario: Admin reviews new warehouse listing from Priya in Bangalore</h4>
                
                <div class="diagram">
Data Transition Flow:

1. ğŸ“‹ WAREHOUSE SUBMISSION
   Owner (Priya) â†’ Frontend â†’ Backend â†’ Database
   POST /api/warehouse/create {
     name: "Bangalore Tech Hub",
     city: "Bangalore",
     area_sqft: 2000,
     documents: ["property_deed.pdf", "noc.pdf"]
   }
   Insert: INSERT INTO warehouses (user_id, name, city, status) VALUES (123, 'Bangalore Tech Hub', 'Bangalore', 'PENDING')
   Result: warehouse_id: 456, status: 'PENDING'

2. ğŸ”” ADMIN NOTIFICATION
   Database Trigger â†’ Notification Service
   - Email to admin: "New warehouse pending approval"
   - Dashboard counter update: pending_count++
   
3. ğŸ‘‘ ADMIN REVIEW
   Admin â†’ Dashboard â†’ Backend â†’ Database
   GET /api/admin/warehouses/pending
   Query: SELECT w.*, u.name as owner_name FROM warehouses w 
   JOIN users u ON w.user_id = u.id WHERE w.status = 'PENDING'
   Result: List of pending warehouses including Priya's

4. ğŸ” DETAILED INSPECTION
   Admin clicks on warehouse â†’ Backend â†’ Database + File System
   GET /api/admin/warehouses/456/full-details
   - Fetch warehouse details
   - Load uploaded documents
   - Check owner verification status
   - Review similar warehouses in area

5. âœ… APPROVAL DECISION
   Admin â†’ Backend â†’ Database
   PATCH /api/admin/warehouses/456/approve {
     status: "APPROVED",
     admin_notes: "All documents verified. Good location.",
     verified_by: admin_user_id
   }
   
   Updates:
   - UPDATE warehouses SET status = 'APPROVED', verified_by = 789, verified_at = NOW() WHERE id = 456
   - INSERT INTO audit_log (action, admin_id, warehouse_id, timestamp) VALUES ('APPROVE', 789, 456, NOW())

6. ğŸ“§ OWNER NOTIFICATION
   Backend â†’ Email Service
   - Send approval email to Priya
   - Include next steps (how to manage listing)
   - Update owner dashboard with live status

7. ğŸ”„ SYSTEM UPDATES
   - Warehouse becomes searchable by users
   - Analytics updated: approved_warehouses++
   - Search index refreshed
   - Owner can now receive bookings
                </div>
            </div>

            <div class="highlight-box">
                <h4>ğŸ“ˆ Key Data Flow Patterns</h4>
                <ul>
                    <li><strong>Validation First:</strong> All data validated before database writes</li>
                    <li><strong>Atomic Transactions:</strong> Related updates happen together (booking + payment)</li>
                    <li><strong>Audit Trail:</strong> Every action logged with user, timestamp, and changes</li>
                    <li><strong>Event-Driven:</strong> Status changes trigger notifications and updates</li>
                    <li><strong>Real-time Sync:</strong> Frontend immediately reflects backend state changes</li>
                </ul>
            </div>
        </div>

        <div class="section" id="api-routes">
            <h2>ğŸ›£ï¸ API Route Mappings to Modules</h2>
            
            <h3>ğŸ” Authentication Routes</h3>
            <div class="api-route">
POST   /api/auth/register          â†’ AuthController.register()      â†’ AuthService.createUser()<br>
POST   /api/auth/login             â†’ AuthController.login()         â†’ AuthService.validateCredentials()<br>
POST   /api/auth/google            â†’ AuthController.googleAuth()    â†’ AuthService.handleGoogleOAuth()<br>
POST   /api/auth/request-otp       â†’ AuthController.requestOTP()    â†’ AuthService.sendOTP()<br>
POST   /api/auth/verify-otp        â†’ AuthController.verifyOTP()     â†’ AuthService.validateOTP()<br>
POST   /api/auth/refresh           â†’ AuthController.refreshToken()  â†’ AuthService.refreshJWT()<br>
POST   /api/auth/logout            â†’ AuthController.logout()        â†’ AuthService.invalidateToken()<br>
POST   /api/auth/forgot-password   â†’ AuthController.forgotPassword()â†’ AuthService.sendResetLink()
            </div>

            <h3>ğŸ¢ Warehouse Management Routes</h3>
            <div class="api-route">
GET    /api/warehouses             â†’ WarehouseController.getAll()      â†’ WarehouseService.searchWarehouses()<br>
GET    /api/warehouses/:id         â†’ WarehouseController.getById()     â†’ WarehouseService.getWarehouseDetails()<br>
POST   /api/warehouses             â†’ WarehouseController.create()      â†’ WarehouseService.createWarehouse()<br>
PUT    /api/warehouses/:id         â†’ WarehouseController.update()      â†’ WarehouseService.updateWarehouse()<br>
DELETE /api/warehouses/:id         â†’ WarehouseController.delete()      â†’ WarehouseService.deleteWarehouse()<br>
GET    /api/warehouses/search      â†’ WarehouseController.search()      â†’ WarehouseService.advancedSearch()<br>
GET    /api/warehouses/my          â†’ WarehouseController.getUserWH()   â†’ WarehouseService.getOwnerWarehouses()<br>
POST   /api/warehouses/:id/images  â†’ WarehouseController.uploadImages()â†’ FileService.uploadWarehouseImages()
            </div>

            <h3>ğŸ“… Booking Management Routes</h3>
            <div class="api-route">
POST   /api/bookings               â†’ BookingController.create()       â†’ BookingService.createBooking()<br>
GET    /api/bookings/my            â†’ BookingController.getUserBookings()â†’ BookingService.getUserBookings()<br>
GET    /api/bookings/:id           â†’ BookingController.getById()      â†’ BookingService.getBookingDetails()<br>
PATCH  /api/bookings/:id/cancel    â†’ BookingController.cancel()       â†’ BookingService.cancelBooking()<br>
GET    /api/bookings/warehouse/:id â†’ BookingController.getByWarehouse()â†’ BookingService.getWarehouseBookings()<br>
PATCH  /api/bookings/:id/extend    â†’ BookingController.extend()       â†’ BookingService.extendBooking()
            </div>

            <h3>ğŸ’³ Payment Processing Routes</h3>
            <div class="api-route">
POST   /api/payments/create-order  â†’ PaymentController.createOrder()  â†’ PaymentService.createRazorpayOrder()<br>
POST   /api/payments/verify        â†’ PaymentController.verify()       â†’ PaymentService.verifyPayment()<br>
POST   /api/payments/webhook       â†’ PaymentController.webhook()      â†’ PaymentService.handleWebhook()<br>
GET    /api/payments/history       â†’ PaymentController.getHistory()   â†’ PaymentService.getPaymentHistory()<br>
POST   /api/payments/refund        â†’ PaymentController.refund()       â†’ PaymentService.processRefund()<br>
GET    /api/payments/:id/invoice   â†’ PaymentController.getInvoice()   â†’ PaymentService.generateInvoice()
            </div>

            <h3>ğŸ‘‘ Admin Panel Routes</h3>
            <div class="api-route">
GET    /api/admin/dashboard        â†’ AdminController.getDashboard()   â†’ AnalyticsService.getDashboardStats()<br>
GET    /api/admin/warehouses/pendingâ†’ AdminController.getPendingWH()  â†’ WarehouseService.getPendingApprovals()<br>
PATCH  /api/admin/warehouses/:id/approveâ†’ AdminController.approveWH() â†’ WarehouseService.approveWarehouse()<br>
GET    /api/admin/users            â†’ AdminController.getUsers()      â†’ UserService.getAllUsers()<br>
PATCH  /api/admin/users/:id/status â†’ AdminController.updateUserStatus()â†’ UserService.updateUserStatus()<br>
GET    /api/admin/analytics        â†’ AdminController.getAnalytics()  â†’ AnalyticsService.getDetailedAnalytics()<br>
GET    /api/admin/inquiries        â†’ AdminController.getInquiries()  â†’ InquiryService.getAllInquiries()
            </div>

            <h3>ğŸ’¬ Inquiry Management Routes</h3>
            <div class="api-route">
POST   /api/inquiries              â†’ InquiryController.create()       â†’ InquiryService.createInquiry()<br>
GET    /api/inquiries/my           â†’ InquiryController.getMyInquiries()â†’ InquiryService.getUserInquiries()<br>
GET    /api/inquiries/warehouse/:idâ†’ InquiryController.getForWarehouse()â†’ InquiryService.getWarehouseInquiries()<br>
PATCH  /api/inquiries/:id/respond  â†’ InquiryController.respond()      â†’ InquiryService.respondToInquiry()<br>
PATCH  /api/inquiries/:id/status   â†’ InquiryController.updateStatus() â†’ InquiryService.updateInquiryStatus()
            </div>

            <h3>ğŸ“ File Management Routes</h3>
            <div class="api-route">
POST   /api/upload/image           â†’ FileController.uploadImage()     â†’ FileService.processImageUpload()<br>
POST   /api/upload/document        â†’ FileController.uploadDocument()  â†’ FileService.processDocumentUpload()<br>
DELETE /api/files/:id              â†’ FileController.deleteFile()     â†’ FileService.deleteFile()<br>
GET    /api/files/:id/download     â†’ FileController.downloadFile()   â†’ FileService.serveFile()
            </div>

            <div class="architecture-grid">
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ”—</span>Route Organization</h4>
                    <ul>
                        <li><strong>RESTful Design:</strong> HTTP verbs match actions</li>
                        <li><strong>Versioning:</strong> /api/v1/ for future compatibility</li>
                        <li><strong>Nested Resources:</strong> Parent/child relationships</li>
                        <li><strong>Query Parameters:</strong> For filtering and pagination</li>
                        <li><strong>Consistent Naming:</strong> kebab-case for URLs</li>
                    </ul>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ›¡ï¸</span>Middleware Chain</h4>
                    <ul>
                        <li><strong>CORS:</strong> Applied to all routes</li>
                        <li><strong>Rate Limiting:</strong> Per-IP and per-user limits</li>
                        <li><strong>Authentication:</strong> JWT validation for protected routes</li>
                        <li><strong>Authorization:</strong> Role-based access control</li>
                        <li><strong>Validation:</strong> Input schema validation</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section" id="database-design">
            <h2>ğŸ’¾ Database Design & ERD</h2>
            
            <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         USERS           â”‚         â”‚      WAREHOUSES         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id (INT)           â”‚         â”‚ PK  id (INT)           â”‚
â”‚     email (VARCHAR)     â”‚ 1    N  â”‚ FK  user_id (INT)      â”‚
â”‚     phone (VARCHAR)     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚     name (VARCHAR)      â”‚
â”‚     password (VARCHAR)  â”‚         â”‚     description (TEXT)  â”‚
â”‚     google_id (VARCHAR) â”‚         â”‚     address (TEXT)      â”‚
â”‚     role (ENUM)        â”‚         â”‚     city (VARCHAR)      â”‚
â”‚     first_name (VARCHAR)â”‚         â”‚     state (VARCHAR)     â”‚
â”‚     last_name (VARCHAR) â”‚         â”‚     pincode (VARCHAR)   â”‚
â”‚     verified (BOOLEAN)  â”‚         â”‚     area_sqft (INT)     â”‚
â”‚     profile_image (VARCHAR)      â”‚     price_per_sqft (DEC)â”‚
â”‚     created_at (TIMESTAMP)       â”‚     amenities (JSON)    â”‚
â”‚     updated_at (TIMESTAMP)       â”‚     images (JSON)       â”‚
â”‚                        â”‚         â”‚     coordinates (POINT) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚     status (ENUM)       â”‚
            â”‚                       â”‚     verified (BOOLEAN)  â”‚
            â”‚                       â”‚     verification_docs (JSON)
            â”‚                       â”‚     created_at (TIMESTAMP)
            â”‚                       â”‚     updated_at (TIMESTAMP)
            â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                   â”‚
            â”‚ 1                                 â”‚ 1
            â”‚                                   â”‚
            â”‚ N                                 â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       BOOKINGS          â”‚         â”‚    WAREHOUSE_ANALYTICS   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id (INT)           â”‚         â”‚ PK  id (INT)           â”‚
â”‚ FK  user_id (INT)      â”‚         â”‚ FK  warehouse_id (INT)  â”‚
â”‚ FK  warehouse_id (INT)  â”‚ 1    1  â”‚     views_count (INT)   â”‚
â”‚     start_date (DATE)   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚     inquiries_count (INT)â”‚
â”‚     end_date (DATE)     â”‚         â”‚     bookings_count (INT)â”‚
â”‚     total_amount (DEC)  â”‚         â”‚     revenue_total (DEC) â”‚
â”‚     security_deposit (DEC)       â”‚     avg_rating (FLOAT)  â”‚
â”‚     status (ENUM)       â”‚         â”‚     last_booked_at (DATE)â”‚
â”‚     booking_type (ENUM) â”‚         â”‚     performance_score (FLOAT)
â”‚     special_requirements (TEXT)  â”‚     created_at (TIMESTAMP)
â”‚     created_at (TIMESTAMP)       â”‚     updated_at (TIMESTAMP)
â”‚     updated_at (TIMESTAMP)       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ 1
            â”‚
            â”‚ 1
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       PAYMENTS          â”‚         â”‚       INQUIRIES         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id (INT)           â”‚         â”‚ PK  id (INT)           â”‚
â”‚ FK  booking_id (INT)    â”‚         â”‚ FK  user_id (INT)      â”‚
â”‚     razorpay_order_id   â”‚         â”‚ FK  warehouse_id (INT)  â”‚
â”‚     razorpay_payment_id â”‚         â”‚     subject (VARCHAR)   â”‚
â”‚     amount (DECIMAL)    â”‚         â”‚     message (TEXT)      â”‚
â”‚     currency (VARCHAR)  â”‚         â”‚     contact_email (VARCHAR)
â”‚     status (ENUM)       â”‚         â”‚     contact_phone (VARCHAR)
â”‚     payment_method (VARCHAR)     â”‚     preferred_start_date (DATE)
â”‚     gateway_response (JSON)      â”‚     duration_months (INT)â”‚
â”‚     refund_amount (DECIMAL)      â”‚     budget_range (VARCHAR)
â”‚     created_at (TIMESTAMP)       â”‚     status (ENUM)       â”‚
â”‚     updated_at (TIMESTAMP)       â”‚     responded_at (TIMESTAMP)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚     response_text (TEXT)â”‚
                                    â”‚     created_at (TIMESTAMP)
                                    â”‚     updated_at (TIMESTAMP)
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       USER_SESSIONS     â”‚         â”‚      AUDIT_LOGS         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id (INT)           â”‚         â”‚ PK  id (INT)           â”‚
â”‚ FK  user_id (INT)      â”‚         â”‚ FK  user_id (INT)      â”‚
â”‚     session_token (VARCHAR)      â”‚     action (VARCHAR)    â”‚
â”‚     device_info (JSON)  â”‚         â”‚     table_name (VARCHAR)â”‚
â”‚     ip_address (VARCHAR)â”‚         â”‚     record_id (INT)     â”‚
â”‚     user_agent (TEXT)   â”‚         â”‚     old_values (JSON)   â”‚
â”‚     expires_at (TIMESTAMP)       â”‚     new_values (JSON)   â”‚
â”‚     created_at (TIMESTAMP)       â”‚     ip_address (VARCHAR)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚     created_at (TIMESTAMP)
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    NOTIFICATIONS        â”‚         â”‚      REVIEWS            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id (INT)           â”‚         â”‚ PK  id (INT)           â”‚
â”‚ FK  user_id (INT)      â”‚         â”‚ FK  user_id (INT)      â”‚
â”‚     type (ENUM)        â”‚         â”‚ FK  warehouse_id (INT)  â”‚
â”‚     title (VARCHAR)     â”‚         â”‚ FK  booking_id (INT)    â”‚
â”‚     message (TEXT)      â”‚         â”‚     rating (INT)        â”‚
â”‚     data (JSON)         â”‚         â”‚     review_text (TEXT)  â”‚
â”‚     read (BOOLEAN)      â”‚         â”‚     helpful_count (INT) â”‚
â”‚     created_at (TIMESTAMP)       â”‚     created_at (TIMESTAMP)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚     updated_at (TIMESTAMP)
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>

            <h3>ğŸ” Advanced Database Features</h3>
            <div class="architecture-grid">
                <div class="architecture-card">
                    <h4><span class="card-icon">âš¡</span>Performance Optimizations</h4>
                    <ul>
                        <li><strong>Indexes:</strong> Composite indexes on search columns</li>
                        <li><strong>Full-text Search:</strong> MySQL FULLTEXT on warehouse descriptions</li>
                        <li><strong>Spatial Indexing:</strong> Geographic queries for location-based search</li>
                        <li><strong>Partitioning:</strong> Bookings table partitioned by date</li>
                        <li><strong>Query Optimization:</strong> EXPLAIN analysis for slow queries</li>
                    </ul>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ”’</span>Data Security</h4>
                    <ul>
                        <li><strong>Encryption:</strong> Sensitive fields encrypted at rest</li>
                        <li><strong>PII Protection:</strong> User data pseudonymization</li>
                        <li><strong>Backup Strategy:</strong> Daily automated backups</li>
                        <li><strong>Access Control:</strong> Role-based database permissions</li>
                        <li><strong>Audit Trail:</strong> All changes logged in audit_logs</li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ“Š Key Database Constraints</h3>
            <table>
                <tr>
                    <th>Table</th>
                    <th>Constraint</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td>users</td>
                    <td>UNIQUE(email), UNIQUE(phone)</td>
                    <td>Prevent duplicate accounts</td>
                </tr>
                <tr>
                    <td>bookings</td>
                    <td>CHECK(end_date > start_date)</td>
                    <td>Validate booking dates</td>
                </tr>
                <tr>
                    <td>warehouses</td>
                    <td>CHECK(area_sqft > 0), CHECK(price_per_sqft > 0)</td>
                    <td>Ensure positive values</td>
                </tr>
                <tr>
                    <td>payments</td>
                    <td>CHECK(amount > 0)</td>
                    <td>Validate payment amounts</td>
                </tr>
                <tr>
                    <td>reviews</td>
                    <td>CHECK(rating BETWEEN 1 AND 5)</td>
                    <td>Validate rating range</td>
                </tr>
            </table>
        </div>

        <div class="section" id="scalability-plan">
            <h2>ğŸ“ˆ Scalability Roadmap</h2>
            
            <div class="scalability-note">
                <h3>ğŸš€ Evolution Path: Monolith â†’ Microservices</h3>
                <p>Logic-i is designed as a modular monolith that can be gradually decomposed into microservices as scale demands increase.</p>
            </div>

            <h3>ğŸ“Š Scaling Triggers & Metrics</h3>
            <table>
                <tr>
                    <th>Metric</th>
                    <th>Current Capacity</th>
                    <th>Scale Trigger</th>
                    <th>Next Step</th>
                </tr>
                <tr>
                    <td>Concurrent Users</td>
                    <td>~1,000 users</td>
                    <td>&gt; 5,000 users</td>
                    <td>Load balancer + multiple instances</td>
                </tr>
                <tr>
                    <td>Database Connections</td>
                    <td>~100 connections</td>
                    <td>&gt; 500 connections</td>
                    <td>Read replicas + connection pooling</td>
                </tr>
                <tr>
                    <td>API Requests</td>
                    <td>~10,000 req/hour</td>
                    <td>&gt; 100,000 req/hour</td>
                    <td>Redis caching + CDN</td>
                </tr>
                <tr>
                    <td>Storage</td>
                    <td>~50GB (images + DB)</td>
                    <td>&gt; 500GB</td>
                    <td>Cloud storage (AWS S3/Azure Blob)</td>
                </tr>
                <tr>
                    <td>Payment Volume</td>
                    <td>~100 transactions/day</td>
                    <td>&gt; 1,000 transactions/day</td>
                    <td>Separate payment microservice</td>
                </tr>
            </table>

            <h3>ğŸ—ï¸ Phase 1: Horizontal Scaling (6-12 months)</h3>
            <div class="architecture-grid">
                <div class="architecture-card">
                    <h4><span class="card-icon">âš–ï¸</span>Load Balancing</h4>
                    <ul>
                        <li><strong>NGINX Load Balancer:</strong> Round-robin across 3 app instances</li>
                        <li><strong>Session Affinity:</strong> Redis session store</li>
                        <li><strong>Health Checks:</strong> Automatic failover</li>
                        <li><strong>Auto-scaling:</strong> PM2 cluster mode expansion</li>
                    </ul>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ’¾</span>Database Scaling</h4>
                    <ul>
                        <li><strong>Read Replicas:</strong> 2 read-only MySQL instances</li>
                        <li><strong>Connection Pooling:</strong> PgBouncer for connection management</li>
                        <li><strong>Query Optimization:</strong> Slow query analysis & indexing</li>
                        <li><strong>Caching Layer:</strong> Redis for frequently accessed data</li>
                    </ul>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">â˜ï¸</span>Cloud Migration</h4>
                    <ul>
                        <li><strong>CDN Integration:</strong> CloudFlare for static assets</li>
                        <li><strong>Object Storage:</strong> AWS S3 for images/documents</li>
                        <li><strong>Managed Database:</strong> AWS RDS or Azure Database</li>
                        <li><strong>Container Deployment:</strong> Docker + Kubernetes</li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ”§ Phase 2: Microservices Decomposition (12-24 months)</h3>
            <div class="diagram">
Current Monolith â†’ Target Microservices Architecture

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API GATEWAY                                  â”‚
â”‚                 (Kong/AWS API Gateway)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚               â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
â”‚   USER SERVICE    â”‚ â”‚ SEARCH â”‚ â”‚   PAYMENT   â”‚
â”‚                   â”‚ â”‚SERVICE â”‚ â”‚   SERVICE   â”‚
â”‚ â€¢ Authentication  â”‚ â”‚        â”‚ â”‚             â”‚
â”‚ â€¢ User profiles   â”‚ â”‚â€¢ Warehouseâ”‚ â”‚â€¢ Razorpay  â”‚
â”‚ â€¢ Sessions        â”‚ â”‚  search  â”‚ â”‚â€¢ Refunds   â”‚
â”‚ â€¢ JWT management  â”‚ â”‚â€¢ Filters â”‚ â”‚â€¢ Invoices  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â€¢ Geolocation â”‚ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
          â”‚                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WAREHOUSE SERVICE â”‚ â”‚BOOKING SERVICEâ”‚ â”‚NOTIFICATION    â”‚
â”‚                   â”‚ â”‚              â”‚ â”‚   SERVICE      â”‚
â”‚ â€¢ Listings CRUD   â”‚ â”‚â€¢ Reservationsâ”‚ â”‚                â”‚
â”‚ â€¢ Image uploads   â”‚ â”‚â€¢ Availabilityâ”‚ â”‚â€¢ Email/SMS     â”‚
â”‚ â€¢ Verification    â”‚ â”‚â€¢ Conflicts   â”‚ â”‚â€¢ Push notifs   â”‚
â”‚ â€¢ Analytics       â”‚ â”‚â€¢ Extensions  â”‚ â”‚â€¢ Templates     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>

            <h3>âš¡ Phase 3: Advanced Scaling (24+ months)</h3>
            <div class="flow-step">
                <h4>Enterprise-Grade Features</h4>
                <ul>
                    <li><strong>Event Sourcing:</strong> Complete audit trail with event replay capability</li>
                    <li><strong>CQRS Pattern:</strong> Separate read/write models for optimal performance</li>
                    <li><strong>Message Queues:</strong> RabbitMQ/Apache Kafka for async processing</li>
                    <li><strong>Machine Learning:</strong> Recommendation engine for warehouse matching</li>
                    <li><strong>Real-time Features:</strong> WebSocket for live booking notifications</li>
                    <li><strong>Multi-region:</strong> Geographic distribution for global users</li>
                    <li><strong>Analytics Platform:</strong> Data warehouse with business intelligence</li>
                </ul>
            </div>

            <h3>ğŸ’° Cost Optimization Strategy</h3>
            <div class="architecture-grid">
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ’µ</span>Current Costs (Monthly)</h4>
                    <ul>
                        <li><strong>VPS Server:</strong> â‚¹3,000 ($35)</li>
                        <li><strong>Domain + SSL:</strong> â‚¹500 ($6)</li>
                        <li><strong>CDN:</strong> â‚¹800 ($10)</li>
                        <li><strong>Monitoring:</strong> â‚¹400 ($5)</li>
                        <li><strong>Total:</strong> â‚¹4,700 ($56/month)</li>
                    </ul>
                </div>
                
                <div class="architecture-card">
                    <h4><span class="card-icon">ğŸ“ˆ</span>Scaled Costs (Monthly)</h4>
                    <ul>
                        <li><strong>Cloud Infrastructure:</strong> â‚¹25,000 ($300)</li>
                        <li><strong>Managed Database:</strong> â‚¹8,000 ($95)</li>
                        <li><strong>CDN + Storage:</strong> â‚¹4,000 ($50)</li>
                        <li><strong>Monitoring + Logs:</strong> â‚¹2,000 ($25)</li>
                        <li><strong>Total:</strong> â‚¹39,000 ($470/month)</li>
                    </ul>
                </div>
            </div>

            <div class="highlight-box">
                <h4>ğŸ¯ Success Metrics for Scaling</h4>
                <ul>
                    <li><strong>Response Time:</strong> &lt; 200ms for 95% of API requests</li>
                    <li><strong>Uptime:</strong> 99.9% availability (8.76 hours downtime/year)</li>
                    <li><strong>Scalability:</strong> Handle 10x traffic increase without architecture changes</li>
                    <li><strong>Cost Efficiency:</strong> Infrastructure cost &lt; 15% of revenue</li>
                    <li><strong>Developer Productivity:</strong> New features deployed within 1 week</li>
                </ul>
            </div>
        </div>

    </div>
</body>
</html>